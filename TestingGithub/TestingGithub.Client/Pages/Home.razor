@page "/"

<h1>🏠 Welcome Home (Second PC Version)</h1>

<p>This version is intentionally different for merge conflict testing.</p>
<div class="card shadow-sm p-4 mt-3">
    <p>Welcome to the <strong>GitHub Merge Test Page</strong>!</p>

<p>@welcomeMessage</p>

    <div class="mb-3">
        <label for="nameInput" class="form-label">Enter your name:</label>
        <input id="nameInput" @bind="userName" placeholder="Your name..." class="form-control w-50" />
    </div>

    @if (!string.IsNullOrWhiteSpace(userName))
    {
        <p class="fw-semibold">👋 Hello, @userName!</p>
    }

    <div class="mt-3">
        <button class="btn btn-primary me-2" @onclick="ShowMessage">Click Me</button>
        <button class="btn btn-secondary me-2" @onclick="IncrementCounter">Increase Counter</button>
        <button class="btn btn-outline-info" @onclick="ToggleDetails">Toggle Details</button>
    </div>
<button class="btn btn-danger me-2" @onclick="SayHello">Say Hello</button>
<button class="btn btn-warning me-2" @onclick="DecreaseCounter">Decrease Counter</button>
<button class="btn btn-dark" @onclick="ToggleExtraInfo">Show Extra Info</button>

@if (showInfo)
{
    <p class="text-success fw-bold mt-2">@clickedMessage</p>
}

    @if (showDetails)
    {
        <div class="alert alert-info mt-4">
            <p>⏰ The current time is: <strong>@currentTime</strong></p>
            <p>🔢 You’ve clicked the counter button <strong>@counter</strong> times.</p>
        </div>
    }
</div>

@code {
    // --- Fields ---
    private string message = "Hello from the Home page — merge test version!";
    private string? clickedMessage;
    private int counter = 0;
    private bool showDetails = false;
    private string currentTime = DateTime.Now.ToLongTimeString();
    private string? userName;
    private System.Timers.Timer? timer;

    // --- Lifecycle methods ---
    protected override void OnInitialized()
    {
        Console.WriteLine("Second PC version initialized!");
        randomValue = new Random().NextDouble() * 100;
    }

    public void Dispose() => timer?.Dispose();

    // --- Event handlers ---
    private void ShowMessage()
    {
        welcomeMessage = "Hello from the alternate version!";
        Console.WriteLine("SayHello() triggered.");
    }

    private void DecreaseCounter()
    {
        clicks--;
        Console.WriteLine($"Clicks decreased: {clicks}");
    }

    private void ToggleExtraInfo()
    {
        showDetails = !showDetails;
        Console.WriteLine($"ShowDetails: {showDetails}");
    }
}
